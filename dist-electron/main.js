"use strict";const{app:o,BrowserWindow:n}=require("electron"),l=require("path");function t(){const e=new n({width:800,height:600,webPreferences:{nodeIntegration:!0,contextIsolation:!1}});process.env.VITE_DEV_SERVER_URL?e.loadURL(process.env.VITE_DEV_SERVER_URL):e.loadFile(l.join(__dirname,"../dist/index.html")),e.on("close",i=>{require("electron").dialog.showMessageBoxSync(e,{type:"question",buttons:["Yes","No"],title:"Confirm",message:"Are you sure you want to quit?"})===1&&i.preventDefault()}),e.on("closed",()=>{global.database&&global.database.close(),global.telegram&&global.telegram.bot&&global.telegram.bot.stopPolling(),o.quit()})}o.whenReady().then(()=>{t(),o.on("activate",()=>{n.getAllWindows().length===0&&t()})});o.on("window-all-closed",()=>{process.platform!=="darwin"&&o.quit()});
